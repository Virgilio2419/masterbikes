{% extends 'servicio/template.html' %}

{% block content %}

<h2 style="text-align:center">Agregar Nuevo Cliente</h2>

<div class="container">
    <form id="insertClientForm" method="POST" action="{% url 'agrega_cliente' %}" enctype="multipart/form-data">
        {% csrf_token %}
        
        <div class="form-grid">
            <div class="form-group">
                <label for="rut">Rut:</label>
                <input type="number" id="rut" name="rut" required>
            </div>
            
            <div class="form-group">
                <label for="dv">DV:</label>
                <input type="text" id="dv" name="dv" maxlength="1" required>
            </div>
            
            <div class="form-group">
                <label for="nombre_completo">Nombre Completo:</label>
                <input type="text" id="nombre_completo" name="nombre_completo" maxlength="100" required>
            </div>
            
            <div class="form-group">
                <label for="telefono">Teléfono:</label>
                <input type="number" id="telefono" name="telefono" required>
            </div>
            
            <div class="form-group">
                <label for="mail">Email:</label>
                <input type="email" id="mail" name="mail" required>
            </div>
            
            <div class="form-group">
                <label for="direccion">Dirección:</label>
                <input type="text" id="direccion" name="direccion" maxlength="100" required>
            </div>
            
            <div class="form-group">
                <label for="comuna">Comuna:</label>
                <select id="comuna" name="comuna" required>
                    {% for key, value in comuna_choices %}
                        <option value="{{ key }}">{{ value }}</option>
                    {% endfor %}
                </select>
            </div>
            
            <div class="form-group">
                <label for="registrado">Registrado:</label>
                <select id="registrado" name="registrado" required>
                    <option value="True">Sí</option>
                    <option value="False">No</option>
                </select>
            </div>
            
            <div class="form-group">
                <label for="newsletter">Newsletter:</label>
                <select id="newsletter" name="newsletter" required>
                    <option value="True">Sí</option>
                    <option value="False">No</option>
                </select>
            </div>
            
            <div class="form-group">
                <label for="usuario">Usuario:</label>
                <input type="text" id="usuario" name="usuario" maxlength="100" required>
            </div>
            
            <div class="form-group">
                <label for="password">Contraseña:</label>
                <input type="password" id="password" name="password" maxlength="100" required>
            </div>
        </div>
        
        <div class="button-container">
            <button type="submit" onclick="return confirmInsert()">Guardar</button>
        </div>
    </form>
</div>

<script>
    function confirmInsert() {
        return confirm('¿Estás seguro de que deseas insertar este cliente?');
    }
</script>

<style>
    .form-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); /* Ajusta las columnas al contenido */
        gap: 1rem;
    }

    .form-group {
        display: flex;
        flex-direction: column;
    }

    label {
        margin-bottom: 0.5rem;
    }

    input, textarea, select {
        padding: 0.5rem;
        border: 1px solid #ccc;
        border-radius: 4px;
    }

    .button-container {
        grid-column: 1 / -1; /* Span across all columns */
        display: flex;
        justify-content: center;
        margin-top: 1rem;
    }

    button {
        padding: 0.5rem 1rem;
        border: none;
        background-color: #007bff;
        color: white;
        border-radius: 4px;
        cursor: pointer;
    }

    button:hover {
        background-color: #0056b3;
    }
</style>

{% endblock %}
